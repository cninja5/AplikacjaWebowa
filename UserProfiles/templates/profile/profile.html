{% extends "main/base.html" %}
{% load static %}
{% block title %} Profil - {{ request.user.username }} {% endblock %}
{% block content %}
<div class="container emp-profile">
    <div class="row">
        <div class="col-md-4 text-center align-middle">
            <div class="profile-img">
                <img src="{% static 'avatars/' %}{{ avatar_url }}" class="rounded-circle mb-4"
                     alt="Avatar"/>
            </div>
        </div>
        <div class="col-md-4 ">
            <div class="profile-head">
                <h3 class="nazwaUzytkownika">
                    {{ user_username }}
                </h3>
                <h5 class="daneUzytkownika fst-italic" style="color: #cf057c;">
                    {{ user_first_name }} {{ user_last_name }}
                </h5><br>

                <h5 class="daneUzytkownika">
                    Posiada list: {{ lists_count }}
                </h5>
                <h5 class="daneUzytkownika">
                    Znajomi: {{ friends_count }}
                </h5>
                <h5 class="daneUzytkownika">
                    Dołączono: {{ user_date_joined | date:"d.m.Y"}}

                </h5>

            </div>
        </div>
        <div class="col-md-4 ">
            {% if user.username == user_username %}
            <a href="edit/">
                <button type="button" class="btn btn-lg rounded-pill profilButtons">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"
                         class="bi bi-person-fill-gear" viewBox="0 0 16 16">
                        <path d="M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0m-9 8c0 1 1 1 1 1h5.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.544-3.393C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4m9.886-3.54c.18-.613 1.048-.613 1.229 0l.043.148a.64.64 0 0 0 .921.382l.136-.074c.561-.306 1.175.308.87.869l-.075.136a.64.64 0 0 0 .382.92l.149.045c.612.18.612 1.048 0 1.229l-.15.043a.64.64 0 0 0-.38.921l.074.136c.305.561-.309 1.175-.87.87l-.136-.075a.64.64 0 0 0-.92.382l-.045.149c-.18.612-1.048.612-1.229 0l-.043-.15a.64.64 0 0 0-.921-.38l-.136.074c-.561.305-1.175-.309-.87-.87l.075-.136a.64.64 0 0 0-.382-.92l-.148-.045c-.613-.18-.613-1.048 0-1.229l.148-.043a.64.64 0 0 0 .382-.921l-.074-.136c-.306-.561.308-1.175.869-.87l.136.075a.64.64 0 0 0 .92-.382l.045-.148ZM14 12.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0"/>
                    </svg>
                    Edytuj profil
                </button>
            </a>
            {% elif user.is_authenticated %}

            {% if friend_status == "Wysłano" %}
            <a href="unfriend/">
                <button type="button" class="btn btn-lg rounded-pill profilButtons">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"
                         class="bi bi-person-fill-x" viewBox="0 0 16 16">
                        <path d="M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0m-9 8c0 1 1 1 1 1h5.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.544-3.393C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4"/>
                        <path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m-.646-4.854.646.647.646-.647a.5.5 0 0 1 .708.708l-.647.646.647.646a.5.5 0 0 1-.708.708l-.646-.647-.646.647a.5.5 0 0 1-.708-.708l.647-.646-.647-.646a.5.5 0 0 1 .708-.708"/>
                    </svg>
                    Anuluj zaproszenie
                </button>
            </a>

            {% elif friend_status == "Oczekujące" %}

            <a href="accept-invite/">
                <button type="button" class="btn btn-lg rounded-pill profilButtons">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"
                         class="bi bi-person-fill-check" viewBox="0 0 16 16">
                        <path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m1.679-4.493-1.335 2.226a.75.75 0 0 1-1.174.144l-.774-.773a.5.5 0 0 1 .708-.708l.547.548 1.17-1.951a.5.5 0 1 1 .858.514ZM11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
                        <path d="M2 13c0 1 1 1 1 1h5.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.544-3.393C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4"/>
                    </svg>
                    Zaakceptuj zaproszenie
                </button>
            </a>

            <a href="unfriend/">
                <button type="button" class="btn btn-lg rounded-pill profilButtons">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"
                         class="bi bi-person-fill-x" viewBox="0 0 16 16">
                        <path d="M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0m-9 8c0 1 1 1 1 1h5.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.544-3.393C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4"/>
                        <path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m-.646-4.854.646.647.646-.647a.5.5 0 0 1 .708.708l-.647.646.647.646a.5.5 0 0 1-.708.708l-.646-.647-.646.647a.5.5 0 0 1-.708-.708l.647-.646-.647-.646a.5.5 0 0 1 .708-.708"/>
                    </svg>
                    Usuń zaproszenie
                </button>
            </a>

            {% elif friend_status == "Przyjaciele" %}

            <a href="unfriend/">
                <button type="button" class="btn btn-lg rounded-pill profilButtons">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"
                         class="bi bi-person-fill-dash" viewBox="0 0 16 16">
                        <path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7M11 12h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1m0-7a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
                        <path d="M2 13c0 1 1 1 1 1h5.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.544-3.393C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4"/>
                    </svg>
                    Usuń znajomego
                </button>
            </a>

            {% else %}

            <a href="invite/">
                <button type="button" class="btn btn-lg rounded-pill profilButtons">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"
                         class="bi bi-person-fill-add" viewBox="0 0 16 16">
                        <path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m.5-5v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 1 0m-2-6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
                        <path d="M2 13c0 1 1 1 1 1h5.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.544-3.393C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4"/>
                    </svg>
                    Dodaj znajomego
                </button>
            </a>

            {% endif %}
            {% endif %}

        </div>
    </div>
    <div class="row">
        <div class="col-md-4">
            <div class="profile-work">
                <p>Ostatnio utworzone listy</p>
            </div>
        </div>
        <div class="col-md-8">
            {% if friendsList %}
            <div class="myProfileFriends">
                <div class="row">
                    {% for friend in friendsList %}
                    <div class="col-md-4 mb-4">
                        <div class="card">
                            <div class="card-body">
                                <div class="media align-items-center">
                                    {% if friend.profiluzytkownika.avatar %}
                                    <img src="{% static 'avatars/' %}{{ friend.profiluzytkownika.avatar }}"
                                         class="rounded-circle mb-3" style="height:70px;">
                                    {% else %}
                                    <img src="{% static 'avatars/default_profile_pic.jpg' %}"
                                         class="rounded-circle mb-3" style="height:70px; padding-top:10px;">
                                    {% endif %}
                                    <a href="/profile/{{ friend.username }}">{{ friend.username }}</a>
                                    <div class="media-body overflow-hidden">
                                        <h5 class="card-text mb-0">{{ friend.user_first_name }} {{ friend.user_last_name }}</h5>
                                        <p class="card-text text-uppercase text-muted">TUUU TRZEBA WYŁUSKAĆ IMIE I
                                            NAZWISKO</p>
                                        <p class="card-text">
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                    {% else %}
                    <h2>Brak znajomych</h2>

                    <a href="/search-for-user/">

                        <button type="submit" class="btn btn-lg rounded-pill NoFriendsButtons">
                            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor"
                                 class="bi bi-search" viewBox="0 0 16 16">
                                <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
                            </svg>
                            Wyszukaj znajomego
                        </button>
                    </a>
                    {% endif %}
                    {% if user.username == user_username %}


                    {% endif %}
                </div>
            </div>
        </div>
    </div>

</div>
{% endblock %}